!function(e,t){"function"==typeof define&&define.amd?define([],t):e.FxAccountClient=t()}(this,function(){var e,t,n;return function(r){function o(e,t){return T.call(e,t)}function i(e,t){var n,r,o,i,s,a,c,u,f,l,h=t&&t.split("/"),p=g.map,d=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(t){for(h=h.slice(0,h.length-1),e=h.concat(e.split("/")),u=0;u<e.length;u+=1)if(l=e[u],"."===l)e.splice(u,1),u-=1;else if(".."===l){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||d)&&p){for(n=e.split("/"),u=n.length;u>0;u-=1){if(r=n.slice(0,u).join("/"),h)for(f=h.length;f>0;f-=1)if(o=p[h.slice(0,f).join("/")],o&&(o=o[r])){i=o,s=u;break}if(i)break;!a&&d&&d[r]&&(a=d[r],c=u)}!i&&a&&(i=a,s=c),i&&(n.splice(0,s,i),e=n.join("/"))}return e}function s(e,t){return function(){return p.apply(r,k.call(arguments,0).concat([e,t]))}}function a(e){return function(t){return i(t,e)}}function c(e){return function(t){y[e]=t}}function u(e){if(o(v,e)){var t=v[e];delete v[e],w[e]=!0,h.apply(r,t)}if(!o(y,e)&&!o(w,e))throw new Error("No "+e);return y[e]}function f(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return function(){return g&&g.config&&g.config[e]||{}}}var h,p,d,m,y={},v={},g={},w={},T=Object.prototype.hasOwnProperty,k=[].slice;d=function(e,t){var n,r=f(e),o=r[0];return e=r[1],o&&(o=i(o,t),n=u(o)),o?e=n&&n.normalize?n.normalize(e,a(t)):i(e,t):(e=i(e,t),r=f(e),o=r[0],e=r[1],o&&(n=u(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},m={require:function(e){return s(e)},exports:function(e){var t=y[e];return"undefined"!=typeof t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:l(e)}}},h=function(e,t,n,i){var a,f,l,h,p,g,T=[];if(i=i||e,"function"==typeof n){for(t=!t.length&&n.length?["require","exports","module"]:t,p=0;p<t.length;p+=1)if(h=d(t[p],i),f=h.f,"require"===f)T[p]=m.require(e);else if("exports"===f)T[p]=m.exports(e),g=!0;else if("module"===f)a=T[p]=m.module(e);else if(o(y,f)||o(v,f)||o(w,f))T[p]=u(f);else{if(!h.p)throw new Error(e+" missing "+f);h.p.load(h.n,s(i,!0),c(f),{}),T[p]=y[f]}l=n.apply(y[e],T),e&&(a&&a.exports!==r&&a.exports!==y[e]?y[e]=a.exports:l===r&&g||(y[e]=l))}else e&&(y[e]=n)},e=t=p=function(e,t,n,o,i){return"string"==typeof e?m[e]?m[e](t):u(d(e,t).f):(e.splice||(g=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},"function"==typeof n&&(n=o,o=i),o?h(r,e,t,n):setTimeout(function(){h(r,e,t,n)},4),p)},p.config=function(e){return g=e,g.deps&&p(g.deps,g.callback),p},n=function(e,t,n){t.splice||(n=t,t=[]),o(y,e)||o(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("components/almond/almond",function(){}),n("sjcl",[],function(){"use strict";function e(e,t,r){if(4!==t.length)throw new n.exception.invalid("invalid aes block size");var o=e.e[r],i=t[0]^o[0],s=t[r?3:1]^o[1],a=t[2]^o[2];t=t[r?1:3]^o[3];var c,u,f,l,h=o.length/4-2,p=4,d=[0,0,0,0];c=e.b[r],e=c[0];var m=c[1],y=c[2],v=c[3],g=c[4];for(l=0;h>l;l++)c=e[i>>>24]^m[s>>16&255]^y[a>>8&255]^v[255&t]^o[p],u=e[s>>>24]^m[a>>16&255]^y[t>>8&255]^v[255&i]^o[p+1],f=e[a>>>24]^m[t>>16&255]^y[i>>8&255]^v[255&s]^o[p+2],t=e[t>>>24]^m[i>>16&255]^y[s>>8&255]^v[255&a]^o[p+3],p+=4,i=c,s=u,a=f;for(l=0;4>l;l++)d[r?3&-l:l]=g[i>>>24]<<24^g[s>>16&255]<<16^g[a>>8&255]<<8^g[255&t]^o[p++],c=i,i=s,s=a,a=t,t=c;return d}function t(e,t){var n,r,o,i=t.slice(0),s=e.f,a=e.e,c=s[0],u=s[1],f=s[2],l=s[3],h=s[4],p=s[5],d=s[6],m=s[7];for(n=0;64>n;n++)16>n?r=i[n]:(r=i[n+1&15],o=i[n+14&15],r=i[15&n]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+i[15&n]+i[n+9&15]|0),r=r+m+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(d^h&(p^d))+a[n],m=d,d=p,p=h,h=l+r|0,l=f,f=u,u=c,c=r+(u&f^l&(u^f))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;s[0]=s[0]+c|0,s[1]=s[1]+u|0,s[2]=s[2]+f|0,s[3]=s[3]+l|0,s[4]=s[4]+h|0,s[5]=s[5]+p|0,s[6]=s[6]+d|0,s[7]=s[7]+m|0}var n={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};return"undefined"!=typeof module&&module.exports&&(module.exports=n),n.cipher.aes=function(e){this.b[0][0][0]||this.g();var t,r,o,i,s=this.b[0][4],a=this.b[1];t=e.length;var c=1;if(4!==t&&6!==t&&8!==t)throw new n.exception.invalid("invalid aes key size");for(this.e=[o=e.slice(0),i=[]],e=t;4*t+28>e;e++)r=o[e-1],(0===e%t||8===t&&4===e%t)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],0===e%t&&(r=r<<8^r>>>24^c<<24,c=c<<1^283*(c>>7))),o[e]=o[e-t]^r;for(t=0;e;t++,e--)r=o[3&t?e:e-4],i[t]=4>=e||4>t?r:a[0][s[r>>>24]]^a[1][s[r>>16&255]]^a[2][s[r>>8&255]]^a[3][s[255&r]]},n.cipher.aes.prototype={encrypt:function(t){return e(this,t,0)},decrypt:function(t){return e(this,t,1)},b:[[[],[],[],[],[]],[[],[],[],[],[]]],g:function(){var e,t,n,r,o,i,s,a=this.b[0],c=this.b[1],u=a[4],f=c[4],l=[],h=[];for(e=0;256>e;e++)h[(l[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!u[t];t^=r||1,n=h[n]||1)for(i=n^n<<1^n<<2^n<<3^n<<4,i=i>>8^255&i^99,u[t]=i,f[i]=t,o=l[e=l[r=l[t]]],s=16843009*o^65537*e^257*r^16843008*t,o=257*l[i]^16843008*i,e=0;4>e;e++)a[e][t]=o=o<<24^o>>>8,c[e][i]=s=s<<24^s>>>8;for(e=0;5>e;e++)a[e]=a[e].slice(0),c[e]=c[e].slice(0)}},n.bitArray={bitSlice:function(e,t,r){return e=n.bitArray.l(e.slice(t/32),32-(31&t)).slice(1),void 0===r?e:n.bitArray.clamp(e,r-t)},extract:function(e,t,n){var r=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r)&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var r=e[e.length-1],o=n.bitArray.getPartial(r);return 32===o?e.concat(t):n.bitArray.l(t,o,0|r,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+n.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;e=e.slice(0,Math.ceil(t/32));var r=e.length;return t&=31,r>0&&t&&(e[r-1]=n.bitArray.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(n.bitArray.bitLength(e)!==n.bitArray.bitLength(t))return!1;var r,o=0;for(r=0;r<e.length;r++)o|=e[r]^t[r];return 0===o},l:function(e,t,r,o){var i;for(i=0,void 0===o&&(o=[]);t>=32;t-=32)o.push(r),r=0;if(0===t)return o.concat(e);for(i=0;i<e.length;i++)o.push(r|e[i]>>>t),r=e[i]<<32-t;return i=e.length?e[e.length-1]:0,e=n.bitArray.getPartial(i),o.push(n.bitArray.partial(t+e&31,t+e>32?r:o.pop(),1)),o},n:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}},n.codec.utf8String={fromBits:function(e){var t,r,o="",i=n.bitArray.bitLength(e);for(t=0;i/8>t;t++)0===(3&t)&&(r=e[t/4]),o+=String.fromCharCode(r>>>24),r<<=8;return decodeURIComponent(escape(o))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,r=[],o=0;for(t=0;t<e.length;t++)o=o<<8|e.charCodeAt(t),3===(3&t)&&(r.push(o),o=0);return 3&t&&r.push(n.bitArray.partial(8*(3&t),o)),r}},n.codec.hex={fromBits:function(e){var t,r="";for(t=0;t<e.length;t++)r+=((0|e[t])+0xf00000000000).toString(16).substr(4);return r.substr(0,n.bitArray.bitLength(e)/4)},toBits:function(e){var t,r,o=[];for(e=e.replace(/\s|0x/g,""),r=e.length,e+="00000000",t=0;t<e.length;t+=8)o.push(0^parseInt(e.substr(t,8),16));return n.bitArray.clamp(o,4*r)}},n.codec.base64={i:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,r){var o="",i=0,s=n.codec.base64.i,a=0,c=n.bitArray.bitLength(e);for(r&&(s=s.substr(0,62)+"-_"),r=0;6*o.length<c;)o+=s.charAt((a^e[r]>>>i)>>>26),6>i?(a=e[r]<<6-i,i+=26,r++):(a<<=6,i-=6);for(;3&o.length&&!t;)o+="=";return o},toBits:function(e,t){e=e.replace(/\s|=/g,"");var r,o,i=[],s=0,a=n.codec.base64.i,c=0;for(t&&(a=a.substr(0,62)+"-_"),r=0;r<e.length;r++){if(o=a.indexOf(e.charAt(r)),0>o)throw new n.exception.invalid("this isn't base64!");s>26?(s-=26,i.push(c^o>>>s),c=o<<32-s):(s+=6,c^=o<<32-s)}return 56&s&&i.push(n.bitArray.partial(56&s,c,1)),i}},n.codec.base64url={fromBits:function(e){return n.codec.base64.fromBits(e,1,1)},toBits:function(e){return n.codec.base64.toBits(e,1)}},n.hash.sha256=function(e){this.e[0]||this.g(),e?(this.f=e.f.slice(0),this.d=e.d.slice(0),this.a=e.a):this.reset()},n.hash.sha256.hash=function(e){return(new n.hash.sha256).update(e).finalize()},n.hash.sha256.prototype={blockSize:512,reset:function(){return this.f=this.k.slice(0),this.d=[],this.a=0,this},update:function(e){"string"==typeof e&&(e=n.codec.utf8String.toBits(e));var r,o=this.d=n.bitArray.concat(this.d,e);for(r=this.a,e=this.a=r+n.bitArray.bitLength(e),r=512+r&-512;e>=r;r+=512)t(this,o.splice(0,16));return this},finalize:function(){var e,r=this.d,o=this.f,r=n.bitArray.concat(r,[n.bitArray.partial(1,1)]);for(e=r.length+2;15&e;e++)r.push(0);for(r.push(Math.floor(this.a/4294967296)),r.push(0|this.a);r.length;)t(this,r.splice(0,16));return this.reset(),o},k:[],e:[],g:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}var t,n=0,r=2;e:for(;64>n;r++){for(t=2;r>=t*t;t++)if(0===r%t)continue e;8>n&&(this.k[n]=e(Math.pow(r,.5))),this.e[n]=e(Math.pow(r,1/3)),n++}}},n.misc.hmac=function(e,t){this.j=t=t||n.hash.sha256;var r,o=[[],[]],i=t.prototype.blockSize/32;for(this.c=[new t,new t],e.length>i&&(e=t.hash(e)),r=0;i>r;r++)o[0][r]=909522486^e[r],o[1][r]=1549556828^e[r];this.c[0].update(o[0]),this.c[1].update(o[1]),this.h=new t(this.c[0])},n.misc.hmac.prototype.encrypt=n.misc.hmac.prototype.mac=function(e){if(this.m)throw new n.exception.invalid("encrypt on already updated hmac called!");return this.update(e),this.digest(e)},n.misc.hmac.prototype.reset=function(){this.h=new this.j(this.c[0]),this.m=!1},n.misc.hmac.prototype.update=function(e){this.m=!0,this.h.update(e)},n.misc.hmac.prototype.digest=function(){var e=this.h.finalize(),e=new this.j(this.c[1]).update(e).finalize();return this.reset(),e},n.misc.pbkdf2=function(e,t,r,o,i){if(r=r||1e3,0>o||0>r)throw n.exception.invalid("invalid params to pbkdf2");"string"==typeof e&&(e=n.codec.utf8String.toBits(e)),"string"==typeof t&&(t=n.codec.utf8String.toBits(t)),i=i||n.misc.hmac,e=new i(e);var s,a,c,u,f=[],l=n.bitArray;for(u=1;32*f.length<(o||1);u++){for(i=s=e.encrypt(l.concat(t,[u])),a=1;r>a;a++)for(s=e.encrypt(s),c=0;c<s.length;c++)i[c]^=s[c];f=f.concat(i)}return o&&(f=l.clamp(f,o)),f},n}),function(e){"undefined"!=typeof module&&module&&module.exports?module.exports=e():"function"==typeof n&&n.amd?n("p",e):P=e()}(function(){"use strict";function e(e){return"object"===e||"function"===e}function n(){if(q.length)throw q.shift()}function r(){for(;A.n;){A=A.n;var e=A.f;A.f=null,e.call()}P=!1}function o(){var e=process.domain;e&&(S||(S=(1,t)("domain")),S.active=process.domain=null),P&&B?setImmediate(r):process.nextTick(r),e&&(S.active=process.domain=e)}function i(t){var n=e(typeof MutationObserver)?new MutationObserver(t):e(typeof WebKitMutationObserver)?new WebKitMutationObserver(t):null;if(!n)return null;var r=1,o=document.createTextNode("");return n.observe(o,{characterData:!0}),function(){r=-r,o.data=r}}function s(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}function a(e){j(x(e))}function c(e,t){for(var n=0,r=e.length;r>n;++n)n in e&&t(e[n],n)}function u(e){a(function(){if(!f.onerror)throw e;f.onerror.call(null,e)})}function f(e){return e instanceof g?e:d(new g,e)}function l(e,t,n,r){return e._state?e:(e._state=t,e._value=n,r?e._domain=r:_&&t===L&&(e._domain=process.domain),e._pending.length&&c(e._pending,j),e._pending=null,e)}function h(e,t){e._pending.push(t)}function p(e,t){l(t,e._state,e._value,e._domain)}function d(e,t){return e._state?e:(t instanceof g?t===e?l(e,L,new TypeError("You can't resolve a promise with itself")):t._state?p(t,e):h(t,function(){p(t,e)}):t!==Object(t)?l(e,F,t):C(function(){var n=m(e);try{var r=t.then;"function"==typeof r?K.call(r,t,n.resolve,n.reject):l(e,F,t)}catch(o){n.reject(o)}}),e)}function m(e){var t=!1;return{promise:e,resolve:function(n){t||(t=!0,d(e,n))},reject:function(n){t||(t=!0,l(e,L,n))}}}function y(){return m(new g)}function v(e){return l(new g,L,e)}function g(){this._state=0,this._value=void 0,this._domain=null,this._pending=[]}function w(e){function t(t){return e(t,[])}function n(e){return f(e).then(t)}return n._=e,n}function T(e,t){var n=0,r=new g;return c(e,function(e,o){var i=f(e);i._state===R?(++n,h(i,function(){t[o]=i.inspect(),0===--n&&l(r,F,t)})):t[o]=i.inspect()}),0===n&&l(r,F,t),r}function k(e,t){var n=0,r=y();return c(e,function(e,o){var i=f(e);i._state===F?t[o]=i._value:(++n,i.then(function(e){t[o]=e,0===--n&&r.resolve(t)},r.reject))}),0===n&&r.resolve(t),r.promise}function b(e){function t(t){return M.apply(e,t)}return function(){var e=k(arguments,[]);return k([this,e],[]).then(t)}}var x,C,S,_=e(typeof process)&&"[object process]"==={}.toString.call(process),B=e(typeof setImmediate),A={f:null,n:null},O=A,P=!1,E=_&&o||i(r)||s(r),q=[],I=s(n),K=e.call,M=e.apply,j=function(e){O=O.n={f:e,n:null},P||(P=!0,E())};_?(x=function(e){var t=process.domain;return function(){if(t){if(t._disposed)return;t.enter()}try{e.call()}catch(n){throw E(),n}t&&t.exit()}},C=function(e){var t=process.domain;j(t?function(){t._disposed||(t.enter(),e.call(),t.exit())}:e)}):(x=function(e){return function(){try{e.call()}catch(t){q.push(t),I()}}},C=j);var R=0,F=1,L=2;return f.defer=y,f.reject=v,g.prototype.then=function(e,t){function n(){var e=i._state===F?r:o;if(!e)return void p(i,s);var t,n=!1,c=i._domain||a;if(c){if(c._disposed)return;c.enter()}try{t=e(i._value)}catch(u){n=!0,l(s,L,u)}n||d(s,t),c&&c.exit()}var r="function"==typeof e?e:null,o="function"==typeof t?t:null,i=this,s=new g,a=_&&process.domain;return i._state===R?h(i,n):j(n),s},g.prototype.done=function(e,t){var n=this;(e||t)&&(n=n.then(e,t)),n.then(null,u)},g.prototype.fail=function(e){return this.then(null,e)},g.prototype.spread=function(e,t){return this.then(e&&function(n){return k(n,[]).then(function(t){return M.call(e,void 0,t)},t)},t)},g.prototype.timeout=function(e,t){var n=this,r=new g;if(n._state!==R)p(n,r);else{var o=setTimeout(function(){l(r,L,new Error(t||"Timed out after "+e+" ms"))},e);h(n,function(){clearTimeout(o),p(n,r)})}return r},g.prototype.delay=function(e){var t=y();return this.then(function(n){setTimeout(function(){t.resolve(n)},e)},t.reject),t.promise},g.prototype.inspect=function(){switch(this._state){case R:return{state:"pending"};case F:return{state:"fulfilled",value:this._value};case L:return{state:"rejected",reason:this._value};default:throw new TypeError("invalid state")}},f.allSettled=w(T),f.all=w(k),f.promised=b,f.onerror=null,f.nextTick=a,f}),n("client/lib/hawk",["sjcl"],function(e){"use strict";var t={};return t.client={header:function(e,n,r){var o={field:"",artifacts:{}};if(!e||"string"!=typeof e&&"object"!=typeof e||!n||"string"!=typeof n||!r||"object"!=typeof r)return o.err="Invalid argument type",o;var i=r.timestamp||Math.floor((t.utils.now()+(r.localtimeOffsetMsec||0))/1e3),s=r.credentials;if(!(s&&s.id&&s.key&&s.algorithm))return o.err="Invalid credential object",o;if(-1===t.utils.baseIndexOf(t.crypto.algorithms,s.algorithm))return o.err="Unknown algorithm",o;"string"==typeof e&&(e=t.utils.parseUri(e));var a={ts:i,nonce:r.nonce||t.utils.randomString(6),method:n,resource:e.relative,host:e.hostname,port:e.port,hash:r.hash,ext:r.ext,app:r.app,dlg:r.dlg};o.artifacts=a,!a.hash&&r.hasOwnProperty("payload")&&(a.hash=t.crypto.calculatePayloadHash(r.payload,s.algorithm,r.contentType));var c=t.crypto.calculateMac("header",s,a),u=null!==a.ext&&void 0!==a.ext&&""!==a.ext,f='Hawk id="'+s.id+'", ts="'+a.ts+'", nonce="'+a.nonce+(a.hash?'", hash="'+a.hash:"")+(u?'", ext="'+t.utils.escapeHeaderAttribute(a.ext):"")+'", mac="'+c+'"';return a.app&&(f+=', app="'+a.app+(a.dlg?'", dlg="'+a.dlg:"")+'"'),o.field=f,o},authenticate:function(e,n,r,o){if(o=o||{},e.getResponseHeader("www-authenticate")){var i=t.utils.parseAuthorizationHeader(e.getResponseHeader("www-authenticate"),["ts","tsm","error"]);if(!i)return!1;if(i.ts){var s=t.crypto.calculateTsMac(i.ts,n);if(s!==i.tsm)return!1;t.utils.setNtpOffset(i.ts-Math.floor((new Date).getTime()/1e3))}}if(!e.getResponseHeader("server-authorization")&&!o.required)return!0;var a=t.utils.parseAuthorizationHeader(e.getResponseHeader("server-authorization"),["mac","ext","hash"]);if(!a)return!1;var c={ts:r.ts,nonce:r.nonce,method:r.method,resource:r.resource,host:r.host,port:r.port,hash:a.hash,ext:a.ext,app:r.app,dlg:r.dlg},u=t.crypto.calculateMac("response",n,c);if(u!==a.mac)return!1;if(!o.hasOwnProperty("payload"))return!0;if(!a.hash)return!1;var f=t.crypto.calculatePayloadHash(o.payload,n.algorithm,e.getResponseHeader("content-type"));return f===a.hash},message:function(e,n,r,o){if(!e||"string"!=typeof e||!n||"number"!=typeof n||null===r||void 0===r||"string"!=typeof r||!o||"object"!=typeof o)return null;var i=o.timestamp||Math.floor((t.utils.now()+(o.localtimeOffsetMsec||0))/1e3),s=o.credentials;if(!(s&&s.id&&s.key&&s.algorithm))return null;if(-1===t.crypto.algorithms.indexOf(s.algorithm))return null;var a={ts:i,nonce:o.nonce||t.utils.randomString(6),host:e,port:n,hash:t.crypto.calculatePayloadHash(r,s.algorithm)},c={id:s.id,ts:a.ts,nonce:a.nonce,hash:a.hash,mac:t.crypto.calculateMac("message",s,a)};return c},authenticateTimestamp:function(e,n,r){var o=t.crypto.calculateTsMac(e.ts,n);return o!==e.tsm?!1:(r!==!1&&t.utils.setNtpOffset(e.ts-Math.floor((new Date).getTime()/1e3)),!0)}},t.crypto={headerVersion:"1",algorithms:["sha1","sha256"],calculateMac:function(n,r,o){var i=t.crypto.generateNormalizedString(n,o),s=new e.misc.hmac(r.key,e.hash.sha256);return s.update(i),e.codec.base64.fromBits(s.digest())},generateNormalizedString:function(e,n){var r="hawk."+t.crypto.headerVersion+"."+e+"\n"+n.ts+"\n"+n.nonce+"\n"+(n.method||"").toUpperCase()+"\n"+(n.resource||"")+"\n"+n.host.toLowerCase()+"\n"+n.port+"\n"+(n.hash||"")+"\n";return n.ext&&(r+=n.ext.replace("\\","\\\\").replace("\n","\\n")),r+="\n",n.app&&(r+=n.app+"\n"+(n.dlg||"")+"\n"),r},calculatePayloadHash:function(n,r,o){var i=new e.hash.sha256;return i.update("hawk."+t.crypto.headerVersion+".payload\n").update(t.utils.parseContentType(o)+"\n").update(n||"").update("\n"),e.codec.base64.fromBits(i.finalize())},calculateTsMac:function(n,r){var o=new e.misc.hmac(r.key,e.hash.sha256);return o.update("hawk."+t.crypto.headerVersion+".ts\n"+n+"\n"),e.codec.base64.fromBits(o.digest())}},t.utils={storage:{_cache:{},setItem:function(e,n){t.utils.storage._cache[e]=n},getItem:function(e){return t.utils.storage._cache[e]}},setStorage:function(e){var n=t.utils.getNtpOffset()||0;t.utils.storage=e,t.utils.setNtpOffset(n)},setNtpOffset:function(e){try{t.utils.storage.setItem("hawk_ntp_offset",e)}catch(n){console.error("[hawk] could not write to storage."),console.error(n)}},getNtpOffset:function(){return parseInt(t.utils.storage.getItem("hawk_ntp_offset")||"0",10)},now:function(){return(new Date).getTime()+t.utils.getNtpOffset()},escapeHeaderAttribute:function(e){return e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},parseContentType:function(e){return e?e.split(";")[0].replace(/^\s+|\s+$/g,"").toLowerCase():""},parseAuthorizationHeader:function(e,t){if(!e)return null;var n=e.match(/^(\w+)(?:\s+(.*))?$/);if(!n)return null;var r=n[1];if("hawk"!==r.toLowerCase())return null;var o=n[2];if(!o)return null;var i={},s=o.replace(/(\w+)="([^"\\]*)"\s*(?:,\s*|$)/g,function(e,n,r){return-1===t.indexOf(n)||null===r.match(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~]+$/)||i.hasOwnProperty(n)?void 0:(i[n]=r,"")});return""!==s?null:i},randomString:function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=t.length,r=[],o=0;e>o;++o)r[o]=t[Math.floor(Math.random()*n)];return r.join("")},baseIndexOf:function(e,t,n){for(var r=(n||0)-1,o=e?e.length:0;++r<o;)if(e[r]===t)return r;return-1},parseUri:function(e){for(var t=["source","protocol","authority","userInfo","user","password","hostname","port","resource","relative","pathname","directory","file","query","fragment"],n=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?)(?:#(.*))?)/,r=n.exec(e),o={},i=15;i--;)o[t[i]]=r[i]||"";return(null===o.port||""===o.port)&&(o.port="http"===o.protocol.toLowerCase()?"80":"https"===o.protocol.toLowerCase()?"443":""),o}},t}),n("client/lib/errors",[],function(){return{INVALID_TIMESTAMP:111,INCORRECT_EMAIL_CASE:120}}),n("client/lib/request",["./hawk","p","./errors"],function(e,t,n){"use strict";function r(e,t,n){n||(n={}),this.baseUri=e,this._localtimeOffsetMsec=n.localtimeOffsetMsec,this.xhr=t||XMLHttpRequest,this.timeout=n.timeout||3e4}return r.prototype.send=function(r,o,i,s,a){var c=t.defer(),u=new this.xhr,f=this.baseUri+r,l=null,h=this;a=a||{},s&&(l=JSON.stringify(s));try{u.open(o,f)}catch(p){return t.reject({error:"Unknown error",message:p.toString(),errno:999})}if(u.timeout=this.timeout,u.onreadystatechange=function(){if(4===u.readyState){var e=u.responseText;try{e=JSON.parse(u.responseText)}catch(t){}if(e.errno){if(e.errno!==n.INVALID_TIMESTAMP||a.retrying)return c.reject(e);var f=e.serverTime;return h._localtimeOffsetMsec=1e3*f-(new Date).getTime(),a.retrying=!0,h.send(r,o,i,s,a).then(c.resolve,c.reject)}if("undefined"==typeof u.status||200!==u.status)return 0===e.length?c.reject({error:"Timeout error",errno:999}):c.reject({error:"Unknown error",message:e,errno:999,code:u.status});c.resolve(e)}},i){var d=e.client.header(f,o,{credentials:i,payload:l,contentType:"application/json",localtimeOffsetMsec:this._localtimeOffsetMsec||0});u.setRequestHeader("authorization",d.field)}if(u.setRequestHeader("Content-Type","application/json"),a&&a.headers)for(var m in a.headers)u.setRequestHeader(m,a.headers[m]);return u.send(l),c.promise},r}),n("client/lib/hkdf",["sjcl","p"],function(e,t){"use strict";function n(n,r,o,i){var s=new e.misc.hmac(o,e.hash.sha256);s.update(n);for(var a=s.digest(),c=32,u=Math.ceil(i/c),f=e.codec.hex.toBits(""),l="",h=0;u>h;h++){var p=new e.misc.hmac(a,e.hash.sha256),d=e.bitArray.concat(e.bitArray.concat(f,r),e.codec.utf8String.toBits(String.fromCharCode(h+1)));p.update(d),f=p.digest(),l+=e.codec.hex.fromBits(f)}var m=e.bitArray.clamp(e.codec.hex.toBits(l),8*i);return t(m)}return n}),n("client/lib/pbkdf2",["sjcl","p"],function(e,t){"use strict";var n={derive:function(n,r,o,i){var s=e.misc.pbkdf2(n,r,o,i,e.misc.hmac);return t(s)}};return n}),n("client/lib/credentials",["./request","sjcl","p","./hkdf","./pbkdf2"],function(e,t,n,r,o){"use strict";function i(e){return t.codec.utf8String.toBits(a+e)}function s(e,n){return t.codec.utf8String.toBits(a+e+":"+n)}var a="identity.mozilla.com/picl/v1/",c=1e3,u=256,f=t.codec.hex.toBits("00"),l=32;return{setup:function(e,n){var a={},h=s("quickStretch",e),p=t.codec.utf8String.toBits(n);return a.emailUTF8=e,a.passwordUTF8=n,o.derive(p,h,c,u).then(function(e){return a.quickStretchedPW=e,r(e,i("authPW"),f,l).then(function(t){return a.authPW=t,r(e,i("unwrapBkey"),f,l)})}).then(function(e){return a.unwrapBKey=e,a})},xor:function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]^t[r];return n},unbundleKeyFetchResponse:function(e,n){var r=this,o=t.codec.hex.toBits(n);return this.deriveBundleKeys(e,"account/keys").then(function(e){var n=t.bitArray.bitSlice(o,0,512),i=t.bitArray.bitSlice(o,-256),s=new t.misc.hmac(e.hmacKey,t.hash.sha256);if(s.update(n),!t.bitArray.equal(s.digest(),i))throw new Error("Bad HMac");var a=r.xor(t.bitArray.bitSlice(o,0,512),e.xorKey);return{kA:t.codec.hex.fromBits(t.bitArray.bitSlice(a,0,256)),wrapKB:t.codec.hex.fromBits(t.bitArray.bitSlice(a,256))}})},deriveBundleKeys:function(e,n){var o=i(n),s=t.codec.hex.toBits("");return e=t.codec.hex.toBits(e),r(e,o,s,96).then(function(e){return{hmacKey:t.bitArray.bitSlice(e,0,256),xorKey:t.bitArray.bitSlice(e,256)}})}}}),n("client/lib/hawkCredentials",["sjcl","./hkdf"],function(e,t){"use strict";function n(n,s,a){var c=e.codec.hex.toBits(n),u=e.codec.utf8String.toBits(r+s);return t(c,u,i,a||96).then(function(t){var n=o(t,256,512),r=o(t,512);return{algorithm:"sha256",id:e.codec.hex.fromBits(o(t,0,256)),key:n,bundleKey:r}})}var r="identity.mozilla.com/picl/v1/",o=e.bitArray.bitSlice,i=e.codec.hex.toBits("");return n}),n("client/lib/metricsContext",[],function(){"use strict";return{marshall:function(e){return{deviceId:e.deviceId,flowId:e.flowId,flowBeginTime:e.flowBeginTime,utmCampaign:e.utmCampaign,utmContent:e.utmContent,utmMedium:e.utmMedium,utmSource:e.utmSource,utmTerm:e.utmTerm}}}}),n("client/FxAccountClient",["sjcl","p","./lib/credentials","./lib/errors","./lib/hawkCredentials","./lib/metricsContext","./lib/request"],function(e,t,n,r,o,i,s){"use strict";function a(e){return"undefined"==typeof e}function c(e){return null===e}function u(e){return"[object Object]"===Object.prototype.toString.call(e)&&!Object.keys(e).length}function f(e){return""===e}function l(e,t){if(a(e)||c(e)||u(e)||f(e))throw new Error("Missing "+t)}function h(e,t){if(!e&&!t)throw new Error("Firefox Accounts auth server endpoint or configuration object required.");if("string"!=typeof e&&(t=e||{},e=t.uri),"undefined"==typeof t&&(t={}),!e)throw new Error("FxA auth server uri not set.");m.test(e)||(e=e+"/"+d),this.request=new s(e,t.xhr,{localtimeOffsetMsec:t.localtimeOffsetMsec})}function p(e){l(e,"credentials"),l(e.oldUnwrapBKey,"credentials.oldUnwrapBKey"),l(e.keyFetchToken,"credentials.keyFetchToken"),l(e.passwordChangeToken,"credentials.passwordChangeToken")}var d="v1",m=new RegExp("/"+d+"$"),y=64;return h.VERSION=d,h.prototype.signUp=function(r,o,s){var a=this;return t().then(function(){return l(r,"email"),l(o,"password"),n.setup(r,o)}).then(function(t){var n="/account/create",r={email:t.emailUTF8,authPW:e.codec.hex.fromBits(t.authPW)},o={};return s&&(s.service&&(r.service=s.service),s.redirectTo&&(r.redirectTo=s.redirectTo),s.preVerified&&(r.preVerified=s.preVerified),s.resume&&(r.resume=s.resume),s.keys&&(n+="?keys=true"),s.lang&&(o.headers={"Accept-Language":s.lang}),s.metricsContext&&(r.metricsContext=i.marshall(s.metricsContext))),a.request.send(n,"POST",null,r,o).then(function(n){return s&&s.keys&&(n.unwrapBKey=e.codec.hex.fromBits(t.unwrapBKey)),n})})},h.prototype.signIn=function(o,s,a){var c=this;return a=a||{},t().then(function(){return l(o,"email"),l(s,"password"),n.setup(o,s)}).then(function(t){var n="/account/login";a.keys&&(n+="?keys=true");var u={email:t.emailUTF8,authPW:e.codec.hex.fromBits(t.authPW)};return a.metricsContext&&(u.metricsContext=i.marshall(a.metricsContext)),a.reason&&(u.reason=a.reason),a.redirectTo&&(u.redirectTo=a.redirectTo),a.resume&&(u.resume=a.resume),a.service&&(u.service=a.service),a.unblockCode&&(u.unblockCode=a.unblockCode),a.originalLoginEmail&&(u.originalLoginEmail=a.originalLoginEmail),c.request.send(n,"POST",null,u).then(function(n){return a.keys&&(n.unwrapBKey=e.codec.hex.fromBits(t.unwrapBKey)),n},function(e){if(e&&e.email&&e.errno===r.INCORRECT_EMAIL_CASE&&!a.skipCaseError)return a.skipCaseError=!0,a.originalLoginEmail=o,c.signIn(e.email,s,a);throw e})})},h.prototype.verifyCode=function(e,n,r){var o=this;return t().then(function(){l(e,"uid"),l(n,"verify code");var t={uid:e,code:n};return r&&(r.service&&(t.service=r.service),r.reminder&&(t.reminder=r.reminder),r.type&&(t.type=r.type),r.marketingOptIn&&(t.marketingOptIn=!0)),o.request.send("/recovery_email/verify_code","POST",null,t)})},h.prototype.recoveryEmailStatus=function(e){var n=this;return t().then(function(){return l(e,"sessionToken"),o(e,"sessionToken",y)}).then(function(e){return n.request.send("/recovery_email/status","GET",e)})},h.prototype.recoveryEmailResendCode=function(e,n){var r=this,i={},s={};return t().then(function(){return l(e,"sessionToken"),n&&(n.email&&(i.email=n.email),n.service&&(i.service=n.service),n.redirectTo&&(i.redirectTo=n.redirectTo),n.resume&&(i.resume=n.resume),n.lang&&(s.headers={"Accept-Language":n.lang})),o(e,"sessionToken",y)}).then(function(e){return r.request.send("/recovery_email/resend_code","POST",e,i,s)})},h.prototype.passwordForgotSendCode=function(e,n){var r=this,o={email:e},s={};return t().then(function(){return l(e,"email"),n&&(n.service&&(o.service=n.service),n.redirectTo&&(o.redirectTo=n.redirectTo),n.resume&&(o.resume=n.resume),n.lang&&(s.headers={"Accept-Language":n.lang}),n.metricsContext&&(o.metricsContext=i.marshall(n.metricsContext))),r.request.send("/password/forgot/send_code","POST",null,o,s)})},h.prototype.passwordForgotResendCode=function(e,n,r){var s=this,a={email:e},c={};return t().then(function(){return l(e,"email"),l(n,"passwordForgotToken"),r&&(r.service&&(a.service=r.service),r.redirectTo&&(a.redirectTo=r.redirectTo),r.resume&&(a.resume=r.resume),r.lang&&(c.headers={"Accept-Language":r.lang}),r.metricsContext&&(a.metricsContext=i.marshall(r.metricsContext))),o(n,"passwordForgotToken",y)}).then(function(e){return s.request.send("/password/forgot/resend_code","POST",e,a,c)})},h.prototype.passwordForgotVerifyCode=function(e,n,r){var s=this;return t().then(function(){return l(e,"reset code"),l(n,"passwordForgotToken"),o(n,"passwordForgotToken",y)}).then(function(t){var n={code:e};return r&&r.metricsContext&&(n.metricsContext=i.marshall(r.metricsContext)),s.request.send("/password/forgot/verify_code","POST",t,n)})},h.prototype.passwordForgotStatus=function(e){var n=this;return t().then(function(){return l(e,"passwordForgotToken"),o(e,"passwordForgotToken",y)}).then(function(e){return n.request.send("/password/forgot/status","GET",e)})},h.prototype.accountReset=function(r,s,a,c){var u,f=this,h={};return c=c||{},c.sessionToken&&(h.sessionToken=c.sessionToken),c.metricsContext&&(h.metricsContext=i.marshall(c.metricsContext)),t().then(function(){return l(r,"email"),l(s,"new password"),l(a,"accountResetToken"),c.keys&&l(c.sessionToken,"sessionToken"),n.setup(r,s)}).then(function(t){return c.keys&&(u=e.codec.hex.fromBits(t.unwrapBKey)),h.authPW=e.codec.hex.fromBits(t.authPW),o(a,"accountResetToken",y)}).then(function(e){var t="";c.keys&&(t="?keys=true");var n="/account/reset"+t;return f.request.send(n,"POST",e,h).then(function(e){return c.keys&&e.keyFetchToken&&(e.unwrapBKey=u),e})})},h.prototype.accountKeys=function(r,i){var s=this;return t().then(function(){return l(r,"keyFetchToken"),l(i,"oldUnwrapBKey"),o(r,"keyFetchToken",96)}).then(function(t){var r=e.codec.hex.fromBits(t.bundleKey);return s.request.send("/account/keys","GET",t).then(function(e){return n.unbundleKeyFetchResponse(r,e.bundle)})}).then(function(t){return{kB:e.codec.hex.fromBits(n.xor(e.codec.hex.toBits(t.wrapKB),e.codec.hex.toBits(i))),kA:t.kA}})},h.prototype.accountDestroy=function(o,i,s){var a=this;return s=s||{},t().then(function(){return l(o,"email"),l(i,"password"),n.setup(o,i)}).then(function(t){var n={email:t.emailUTF8,authPW:e.codec.hex.fromBits(t.authPW)};return a.request.send("/account/destroy","POST",null,n).then(function(e){return e},function(e){if(e&&e.email&&e.errno===r.INCORRECT_EMAIL_CASE&&!s.skipCaseError)return s.skipCaseError=!0,a.accountDestroy(e.email,i,s);throw e})})},h.prototype.accountStatus=function(e){var n=this;return t().then(function(){return l(e,"uid"),n.request.send("/account/status?uid="+e,"GET")})},h.prototype.accountStatusByEmail=function(e){var n=this;return t().then(function(){return l(e,"email"),n.request.send("/account/status","POST",null,{email:e})})},h.prototype.sessionDestroy=function(e,n){var r=this,i={};return n=n||{},n.customSessionToken&&(i.customSessionToken=n.customSessionToken),t().then(function(){return l(e,"sessionToken"),o(e,"sessionToken",y)}).then(function(e){return r.request.send("/session/destroy","POST",e,i)})},h.prototype.sessionStatus=function(e){var n=this;return t().then(function(){return l(e,"sessionToken"),o(e,"sessionToken",y)}).then(function(e){return n.request.send("/session/status","GET",e)})},h.prototype.certificateSign=function(e,n,r,i){
var s=this,a={publicKey:n,duration:r};return t().then(function(){return l(e,"sessionToken"),l(n,"publicKey"),l(r,"duration"),o(e,"sessionToken",y)}).then(function(e){i=i||{};var t="";return i.service&&(t="?service="+encodeURIComponent(i.service)),s.request.send("/certificate/sign"+t,"POST",e,a)})},h.prototype.passwordChange=function(e,n,r,o){var i=this;return o=o||{},t().then(function(){return l(e,"email"),l(n,"old password"),l(r,"new password"),i._passwordChangeStart(e,n)}).then(function(t){var n=t,s=t.emailToHashWith||e;return i._passwordChangeKeys(n).then(function(e){return i._passwordChangeFinish(s,r,n,e,o)})})},h.prototype._passwordChangeStart=function(o,i,s){var a=this;return s=s||{},t().then(function(){return l(o,"email"),l(i,"old password"),n.setup(o,i)}).then(function(t){var n={email:t.emailUTF8,oldAuthPW:e.codec.hex.fromBits(t.authPW)};return a.request.send("/password/change/start","POST",null,n).then(function(n){return n.oldUnwrapBKey=e.codec.hex.fromBits(t.unwrapBKey),n.emailToHashWith=o,n},function(e){if(e&&e.email&&e.errno===r.INCORRECT_EMAIL_CASE&&!s.skipCaseError)return s.skipCaseError=!0,a._passwordChangeStart(e.email,i,s);throw e})})},h.prototype._passwordChangeKeys=function(e){var n=this;return t().then(function(){p(e)}).then(function(){return n.accountKeys(e.keyFetchToken,e.oldUnwrapBKey)})},h.prototype._passwordChangeFinish=function(r,i,s,a,c){c=c||{};var u=this;return t().then(function(){l(r,"email"),l(i,"new password"),p(s),l(a,"keys"),l(a.kB,"keys.kB");var e=[];return e.push(n.setup(r,i)),e.push(o(s.passwordChangeToken,"passwordChangeToken",y)),c.sessionToken&&e.push(o(c.sessionToken,"sessionToken",y)),t.all(e)}).spread(function(t,r,o){var i=e.codec.hex.fromBits(n.xor(e.codec.hex.toBits(a.kB),t.unwrapBKey)),s="";c.keys&&(s="?keys=true");var f;return o&&o.id&&(f=o.id),u.request.send("/password/change/finish"+s,"POST",r,{wrapKb:i,authPW:e.codec.hex.fromBits(t.authPW),sessionToken:f}).then(function(n){return c.keys&&n.keyFetchToken&&(n.unwrapBKey=e.codec.hex.fromBits(t.unwrapBKey)),n})})},h.prototype.getRandomBytes=function(){return this.request.send("/get_random_bytes","POST")},h.prototype.deviceRegister=function(e,n,r,i){var s=this.request;return i=i||{},t().then(function(){return l(e,"sessionToken"),l(n,"deviceName"),l(r,"deviceType"),o(e,"sessionToken",y)}).then(function(e){var t={name:n,type:r};return i.deviceCallback&&(t.pushCallback=i.deviceCallback),i.devicePublicKey&&i.deviceAuthKey&&(t.pushPublicKey=i.devicePublicKey,t.pushAuthKey=i.deviceAuthKey),s.send("/account/device","POST",e,t)})},h.prototype.deviceUpdate=function(e,n,r,i){var s=this.request;return i=i||{},t().then(function(){return l(e,"sessionToken"),l(n,"deviceId"),l(r,"deviceName"),o(e,"sessionToken",y)}).then(function(e){var t={id:n,name:r};return i.deviceCallback&&(t.pushCallback=i.deviceCallback),i.devicePublicKey&&i.deviceAuthKey&&(t.pushPublicKey=i.devicePublicKey,t.pushAuthKey=i.deviceAuthKey),s.send("/account/device","POST",e,t)})},h.prototype.deviceDestroy=function(e,n){var r=this.request;return t().then(function(){return l(e,"sessionToken"),l(n,"deviceId"),o(e,"sessionToken",y)}).then(function(e){var t={id:n};return r.send("/account/device/destroy","POST",e,t)})},h.prototype.deviceList=function(e){var n=this.request;return t().then(function(){return l(e,"sessionToken"),o(e,"sessionToken",y)}).then(function(e){return n.send("/account/devices","GET",e)})},h.prototype.sessions=function(e){var n=this.request;return t().then(function(){return l(e,"sessionToken"),o(e,"sessionToken",y)}).then(function(e){return n.send("/account/sessions","GET",e)})},h.prototype.sendUnblockCode=function(e,n){var r=this;return t().then(function(){l(e,"email");var t={email:e};return n&&n.metricsContext&&(t.metricsContext=i.marshall(n.metricsContext)),r.request.send("/account/login/send_unblock_code","POST",null,t)})},h.prototype.rejectUnblockCode=function(e,n){var r=this;return t().then(function(){l(e,"uid"),l(n,"unblockCode");var t={uid:e,unblockCode:n};return r.request.send("/account/login/reject_unblock_code","POST",null,t)})},h.prototype.sendSms=function(e,n,r,s){var a=this.request;return t().then(function(){return l(e,"sessionToken"),l(n,"phoneNumber"),l(r,"messageId"),o(e,"sessionToken",y)}).then(function(e){var t={phoneNumber:n,messageId:r},o={};return s&&(s.lang&&(o.headers={"Accept-Language":s.lang}),s.features&&(t.features=s.features),s.metricsContext&&(t.metricsContext=i.marshall(s.metricsContext))),a.send("/sms","POST",e,t,o)})},h.prototype.smsStatus=function(e,n){var r=this.request;return n=n||{},t().then(function(){return l(e,"sessionToken"),o(e,"sessionToken",y)}).then(function(e){var t="/sms/status";return n.country&&(t+="?country="+encodeURIComponent(n.country)),r.send(t,"GET",e)})},h.prototype.consumeSigninCode=function(e,n,r,o){var i=this;return t().then(function(){return l(e,"code"),l(n,"flowId"),l(r,"flowBeginTime"),i.request.send("/signinCodes/consume","POST",null,{code:e,metricsContext:{deviceId:o,flowId:n,flowBeginTime:r}})})},h.prototype.recoveryEmails=function(e){var n=this.request;return t().then(function(){return l(e,"sessionToken"),o(e,"sessionToken",y)}).then(function(e){return n.send("/recovery_emails","GET",e)})},h.prototype.recoveryEmailCreate=function(e,n){var r=this.request;return t().then(function(){return l(e,"sessionToken"),l(e,"email"),o(e,"sessionToken",y)}).then(function(e){var t={email:n};return r.send("/recovery_email","POST",e,t)})},h.prototype.recoveryEmailDestroy=function(e,n){var r=this.request;return t().then(function(){return l(e,"sessionToken"),l(e,"email"),o(e,"sessionToken",y)}).then(function(e){var t={email:n};return r.send("/recovery_email/destroy","POST",e,t)})},h.prototype.recoveryEmailSecondaryEmailEnabled=function(e){var n=this.request;return t().then(function(){return l(e,"sessionToken"),o(e,"sessionToken",y)}).then(function(e){return n.send("/recovery_email/check_can_add_secondary_address","GET",e)})},h.prototype.recoveryEmailSetPrimaryEmail=function(e,n){var r=this.request;return t().then(function(){return l(e,"sessionToken"),o(e,"sessionToken",y)}).then(function(e){var t={email:n};return r.send("/recovery_email/set_primary","POST",e,t)})},h.prototype._required=l,h}),e("client/FxAccountClient")});
//# sourceMappingURL=fxa-client.min.js.map